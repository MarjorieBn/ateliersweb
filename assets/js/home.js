// lot of useless stuff here, welcome in the garage

// var links = [
//   ["HTML", "/web/pages/ressources/html/","ressources"],
//   ["CSS", "/web/pages/ressources/css/","ressources"],
//   ["FTP", "/web/pages/ressources/ftp/","ressources"],
//   ["Javascript", "/web/pages/ressources/js/","ressources"],
//   ["Python", "/web/pages/ressources/python/","ressources"],
//   ["PHP", "/web/pages/ressources/php/","ressources"],
//   ["Typographie", "/web/pages/ressources/typo/","ressources"],
//   ["Audio & vidéo", "/web/pages/ressources/audiovideo/","ressources"],
//   ["Responsive", "/web/pages/ressources/rwd/","ressources"],
//   ["Canvas", "/web/pages/ressources/canvas/","ressources"],
//   ["CTRL Alt print", "/web/pages/ressources/ctrl-alt-print/","ressources"],
//   ["Internet", "/web/pages/ressources/html/internet/","ressources"],
//   ["Le Web", "/web/pages/ressources/html/web/","ressources"],
//   ["Démarrer", "/web/pages/ressources/html/start/","ressources"],
//   ["Bases", "/web/pages/ressources/html/bases/","ressources"],
//   ["Syntaxe", "/web/pages/ressources/html/bases/#syntax","ressources"],
//   ["Attributs", "/web/pages/ressources/html/bases/#attributes","ressources"],
//   ["Commentaires", "/web/pages/ressources/html/bases/#comments","ressources"],
//   ["Block/Inline", "/web/pages/ressources/html/bases/#block-inline","ressources"],
//   ["Hiérarchie", "/web/pages/ressources/html/bases/#hierarchy","ressources"],
//   ["Sémantique", "/web/pages/ressources/html/bases/#semantics","ressources"],
//   ["Espaces", "/web/pages/ressources/html/bases/#spaces","ressources"],
//   ["Validation", "/web/pages/ressources/html/bases/#validation","ressources"],
//   ["Contenu", "/web/pages/ressources/html/content/","ressources"],
//   ["Texte", "/web/pages/ressources/html/content/#text","ressources"],
//   ["En ligne", "/web/pages/ressources/html/content/#inline","ressources"],
//   ["Liens", "/web/pages/ressources/html/content/#links","ressources"],
//   ["Images", "/web/pages/ressources/html/content/#images","ressources"],
//   ["Structure", "/web/pages/ressources/html/content/#structure","ressources"],
//   ["Formulaires", "/web/pages/ressources/html/content/#forms","ressources"],
//   ["Démarrer", "/web/pages/ressources/css/","ressources"],
//   ["Syntaxe", "/web/pages/ressources/css/syntax/","ressources"],
//   ["Sélecteurs", "/web/pages/ressources/css/selectors/","ressources"],
//   ["Héritage", "/web/pages/ressources/css/inheritance/","ressources"],
//   ["Unités", "/web/pages/ressources/css/units/","ressources"],
//   ["Texte", "/web/pages/ressources/css/text/","ressources"],
//   ["Arrière-plan", "/web/pages/ressources/css/background/","ressources"],
//   ["Box model", "/web/pages/ressources/css/box/","ressources"],
//   ["Positions", "/web/pages/ressources/css/positions/","ressources"],
//   ["Mise en page", "/web/pages/ressources/css/layout/","ressources"],
//   ["Flexbox", "/web/pages/ressources/flexbox/","ressources"],
//   ["Grid", "/web/pages/ressources/css/grid/","ressources"],
//   ["Animation", "/web/pages/ressources/css/transitions/","ressources"],
//   ["Transformations", "/web/pages/ressources/css/transformations/","ressources"],
//   ["Processus", "/web/pages/ressources/css/pratique/","ressources"],
//   ["Ressources JS", "/web/pages/ressources/js/#ressources-js","ressources"],
//   ["Javascript", "/web/pages/ressources/js/#introduction","ressources"],
//   ["Variables", "/web/pages/ressources/js/#variables","ressources"],
//   ["Logique", "/web/pages/ressources/js/#logique","ressources"],
//   ["Conditions", "/web/pages/ressources/js/#conditions","ressources"],
//   ["Boucles", "/web/pages/ressources/js/#boucles","ressources"],
//   ["Fonctions", "/web/pages/ressources/js/#fonctions","ressources"],
//   ["DOM+", "/web/pages/ressources/js/dom/","ressources"],
//   ["DOM", "/web/pages/ressources/js/#dom","ressources"],
//   // ["jQuery", "/web/pages/ressources/js/#jquery","ressources"],
//   ["Aléatoire", "/web/pages/ressources/js/#random","ressources"],
//   ["Typo", "/web/pages/ressources/typo/","ressources"],
//   ["Macro & micro", "/web/pages/ressources/typo/macromicro/","ressources"],
//   ["Webfonts", "/web/pages/ressources/typo/webfonts/","ressources"],
//   ["Opentype", "/web/pages/ressources/typo/opentype/","ressources"],
//   ["Variables", "/web/pages/ressources/typo/variables/","ressources"],
//   ["Ressources", "/web/pages/ressources/audiovideo/#ressources-audiovideo","ressources"],
//   ["Exemples", "/web/pages/ressources/audiovideo/#exemples-audiovideo","ressources"],
//   // ["HTML", "/web/pages/ressources/audiovideo/#html","ressources"],
//   // ["Services web", "/web/pages/ressources/audiovideo/#services","ressources"],
//   // ["Javascript", "/web/pages/ressources/audiovideo/#javascript","ressources"],
//   // ["Web Audio Api", "/web/pages/ressources/audiovideo/#webaudioapi","ressources"],
//   ["Media queries", "/web/pages/ressources/rwd/#media-queries","ressources"],
//   ["Usages", "/web/pages/ressources/rwd/#usages","ressources"],
//   ["Typographie", "/web/pages/ressources/rwd/#typography","ressources"],
//   ["HTML / CSS", "/web/pages/references/htmlcss/", "references"],
//   ["Typographie", "/web/pages/references/typo/", "references"],
//   ["Écritures numériques", "/web/pages/references/ecrituresnumeriques/", "references"],
//   ["Webdoc", "/web/pages/references/ecrituresnumeriques/#webdocumentaire", "references"],
//   ["Visite du web", "/web/pages/references/visite/", "references"],
//   ["Histoire", "/web/pages/references/histoire/", "references"],
//   ["Go pro !", "/web/pages/references/gopro/", "references"],
//   ["Fonderies", "/web/pages/references/typo/#fonderies", "references"],
//   ["Fontes variables", "/web/pages/references/typo/#fontes-variables", "references"],
//   ["Typographie numérique", "/web/pages/references/typo/#typographie-numerique", "references"],
//   ["Newsletters", "/web/pages/references/typo/#newsletters", "references"],
//   // ["Pratique", "/web/pages/references/typo/#pratique", "references"],
//   // ["En jouant", "/web/pages/references/typo/#en-jouant", "references"],
//   // ["Réflexions", "/web/pages/references/typo/#reflexions", "references"],
//   // ["Techniques web", "/web/pages/references/typo/#techniques-web", "references"],
//   ["Histoire", "/web/pages/references/histoire/", "references"],
//   ["Internet", "/web/pages/references/histoire/internet/", "references"],
//   ["Machines", "/web/pages/references/histoire/machines/", "references"],
//   ["Kirby", "/web/pages/projets/portfolio/", "projets"],
//   ["Hypertext superhero", "/web/pages/projets/htsh/", "projets"],
//   ["Pecha Kucha", "/web/pages/projets/pechakucha/", "projets"],
//   ["Webradiola", "/web/pages/projets/webradiola/", "projets"],
//   ["Zones", "/web/pages/projets/zones/", "projets"],
//   ["Programmation", "/web/pages/projets/programmation/", "projets"],
//   ["Storytellers", "/web/pages/projets/storytellers/", "projets"],
//   ["Portfolio", "/web/pages/projets/portfolio/", "projets"],
//   ["Textedit", "/web/pages/projets/textedit/", "projets"],
//   ["Puck Ferpection", "/web/pages/projets/perfuction/", "projets"],
//   ["Portfolio", "/web/pages/projets/portfolio/", "projets"],
//   ["Kirby", "/web/pages/projets/portfolio/kirby", "projets"],
//   // ["Blueprints", "/web/pages/projets/portfolio/blueprints", "projets"],
//   // ["Données", "/web/pages/projets/portfolio/blueprints/#modele-de-donnees", "projets"],
//   // ["Scénario 1", "/web/pages/projets/portfolio/blueprints/scenario-1", "projets"],
//   // ["Scénario 2", "/web/pages/projets/portfolio/blueprints/scenario-2", "projets"],
//   // ["Champs", "/web/pages/projets/portfolio/blueprints/#champs", "projets"],
//   // ["Interface", "/web/pages/projets/portfolio/blueprints/#interface-dadministration", "projets"],
//   // ["Templates", "/web/pages/projets/portfolio/templates", "projets"],
//   // ["Bases", "/web/pages/projets/portfolio/templates/#php", "projets"],
//   //["PHP & Kirby", "/web/pages/projets/portfolio/templates/#kirby", "projets"],
//   //["Snippets", "/web/pages/projets/portfolio/templates/#snippets", "projets"],
//   ["Figures", "/web/pages/projets/figures/", "projets"],
//   ["Local Area Social Network", "/web/pages/projets/lasn/", "projets"],
//   ["Mémoire vive", "/web/pages/projets/memoirevive/", "projets"],
//   // ["CSS / JS", "/web/pages/projets/portfolio/assets/", "projets"],
//   ["Cultures numériques", "/web/pages/culturenum/", "culturenum"],
//   ["Design éthique", "/web/pages/culturenum/ethique/", "culturenum"],
//   ["Design libre", "/web/pages/culturenum/libre/", "culturenum"],
//   ["Folklore", "/web/pages/culturenum/folklore/", "culturenum"],
//   ["Figures", "/web/pages/culturenum/figures/", "culturenum"],
//   ["Web3", "/web/pages/culturenum/web3/", "culturenum"],
//   ["Media Queries", "/web/pages/culturenum/mediaqueries/", "culturenum"],
//   ["AI AI Aïe", "/web/pages/culturenum/aiaiaie/", "culturenum"],
//   ["8m", "/web/pages/culturenum/8m/", "culturenum"],
//   ["Lectures", "/web/pages/culturenum/lectures/", "culturenum"],
//   ["Mise en page", "/web/pages/exemples/#layout", "exemples"],
//   ["Aléatoire", "/web/pages/exemples/#random", "exemples"],
//   ["Audio/vidéo", "/web/pages/exemples/#audio,#video", "exemples"],
//   ["Flex", "/web/pages/exemples/#flex", "exemples"],
//   ["Grid", "/web/pages/exemples/#grid", "exemples"],
//   ["Javascript", "/web/pages/exemples/#js", "exemples"],
//   ["Positions", "/web/pages/exemples/#positions", "exemples"],
//   ["CSS", "/web/pages/exemples/#css", "exemples"],
//   ["Responsive", "/web/pages/exemples/#rwd", "exemples"],
//   ["Typographie", "/web/pages/exemples/#typo", "exemples"],
//   ["Interactivité", "/web/pages/exemples/#interactive", "exemples"],
//   ["Variable fonts", "/web/pages/exemples/#variable", "exemples"],
//   ["Webtoprint", "/web/pages/exemples/#webtoprint", "exemples"],
//   ["Livres", "/web/pages/lectures/#livres", "lectures"],
//   ["Revues", "/web/pages/lectures/#revues", "lectures"],
//   ["Newsletters", "/web/pages/lectures/#newsletters", "lectures"],
//   ["Podcasts", "/web/pages/lectures/#podcasts", "lectures"],
//   ["Vidéos", "/web/pages/lectures/#videos", "lectures"],
//   ["Sites", "/web/pages/lectures/#sites", "lectures"],
// ];

// var pane = document.querySelector('.homelinks'), pane_width = 0, pane_height = 0, styles = "", s = null, anchors = [];

// function createLink (idx) {
//     var data = links[idx];
//     var el = document.createElement('a');
//     var text = data[0];
//     var href = data[1];
//     var cat  = data[2];

//     el.href = href;
//     el.textContent = text;
//     el.className = el.dataset.category = cat;

//     el.id = "el-" + idx;
//     pane.appendChild(el);

//     el.addEventListener('mouseover', function(e){
//       pane.classList.add(e.target.dataset.category);
//       pane.classList.add('hover');
//       clearInterval(s);
//       s = null;
//     })

//     el.addEventListener('mouseout', function(e){    
//       pane.classList.remove(e.target.dataset.category);
//       pane.classList.remove('hover');
//       s = setInterval(souk, 12000);
//     });  

//     anchors.push(el);
// }

// function setLinkPosition(idx){
//   var el = anchors[idx];
//   var w = el.clientWidth;
//   var h = el.clientHeight;
  
//   var base_t = 32 + Math.round( Math.random() * (pane_height - h) / 20 ) * 20;
//   var base_l = 32 + Math.round( Math.random() * (pane_width  - w) / 50 ) * 50;
//   var base_d = (idx * 5) + "ms";
//   base_d =  idx * 2 + Math.round( Math.random() * 100 );
//   styles += "#el-" + idx + " { top:" + base_t + "px; left:" + base_l + "px; transition-delay:" + base_d + "ms }";

//   var t = 32 + Math.round( Math.random() * (pane_height - h) / 20 ) * 20;
//   styles += ".loaded #el-" + idx + "{ top:" + t + "px;}";
// }

// function createStyles(){
//   pane_width = pane.clientWidth - (6 * 16);
//   pane_height = pane.clientHeight  - (4 * 16);
//   var css = document.querySelector('#homecss') || document.createElement('style');
//   css.type = "text/css";
//   css.id = "homecss";
//   css.textContent = "";
//   styles= "";

//   for(var i = 0; i< links.length; i++) {
//     setLinkPosition(i);
//   }
//   pane.classList.add("done");
//   css.textContent = styles;
//   document.querySelector('head').appendChild(css);
//   s = setInterval(souk, 12000);
//   setTimeout(souk,100);
// }

// function init(){
//   for(var i = 0; i< links.length; i++) {
//     createLink(i);
//   }
//   createStyles();
// }


// function souk(){
//   pane.classList.toggle("loaded");
// }

// // resize
// window.addEventListener('resize', function(){
//   // createStyles();
// });

// unused :)
// init();


// const lttrs = document.querySelectorAll('.u span');
// const alignments = ["start", "end", "center"];
// lttrs.forEach(letter => {
//   letter.style.justifySelf = alignments[ Math.floor( Math.random() * alignments.length ) ];
// });


// radical

function setLineHeight(){
  
  blockquote_height = blockquote.getBoundingClientRect().height;
  content_height = content.getBoundingClientRect().height - 2 * 16;

  var diff = content_height - blockquote_height;
  var style = window.getComputedStyle(blockquote);
  var lh = parseFloat(style.lineHeight);

  var linesnumber =  Math.ceil(blockquote_height / lh);
  
  var dlh = Math.floor(lh + ((diff) / linesnumber - 1));
  blockquote.style.lineHeight = dlh + "px";
  blockquote.classList.remove('hidden');

}

// radical
var blockquote = document.querySelector('blockquote');
var content = document.querySelector('#content');
var content_height = content.getBoundingClientRect().height - 2 * 16;
var blockquote_height, raf;


function adjustSize(){
  blockquote_height = blockquote.getBoundingClientRect().height;
  var style = window.getComputedStyle(blockquote);
  var fz = parseFloat(style.fontSize);
  if (blockquote_height > content_height ) {
    blockquote.style.fontSize = Number(fz - 1) + "px"; 
    raf =  window.requestAnimationFrame(adjustSize);
  } else {
    setLineHeight();
    window.cancelAnimationFrame(raf);
  }
}

const font = new FontFace("Authentic", "url(/web/assets/fonts/AUTHENTICSans-Condensed-90.woff2)");
document.fonts.add(font);

// Load the font
font.load();

// Wait until the fonts are all loaded
document.fonts.ready.then(() => {  
  if(blockquote) adjustSize();
});

// resize
window.addEventListener('resize', function(){
  if(blockquote) {
    content_height = content.getBoundingClientRect().height - 2 * 16;
    blockquote.classList.add('hidden');
    blockquote.removeAttribute('style');
    adjustSize();
  }
});

// palettes generated elsewhere, sorry
const palettes = [["rgb(240, 89, 65)","rgb(190, 49, 68)","rgb(135, 35, 65)","rgb(47, 27, 65)",],["rgb(252, 255, 136)","rgb(249, 204, 106)","rgb(148, 46, 136)","rgb(219, 92, 166)",],["rgb(54, 56, 99)","rgb(99, 82, 112)","rgb(201, 139, 112)","rgb(248, 231, 150)",],["rgb(228, 228, 228)","rgb(4, 67, 67)","rgb(4, 87, 87)","rgb(34, 34, 34)",],["rgb(246, 245, 245)","rgb(227, 196, 168)","rgb(69, 146, 175)","rgb(51, 49, 59)",],["rgb(252, 84, 4)","rgb(249, 132, 4)","rgb(249, 178, 8)","rgb(247, 253, 4)",],["rgb(241, 248, 253)","rgb(246, 198, 103)","rgb(199, 0, 57)","rgb(144, 12, 39)",],["rgb(244, 250, 156)","rgb(244, 105, 169)","rgb(186, 83, 222)","rgb(136, 190, 245)",],["rgb(241, 126, 126)","rgb(239, 202, 140)","rgb(223, 227, 142)","rgb(127, 231, 204)",],["rgb(212, 181, 176)","rgb(238, 218, 209)","rgb(246, 158, 123)","rgb(56, 62, 86)",],["rgb(255, 108, 0)","rgb(160, 32, 76)","rgb(35, 16, 58)","rgb(40, 45, 79)",],["rgb(245, 111, 173)","rgb(195, 43, 173)","rgb(112, 39, 160)","rgb(29, 185, 195)",],["rgb(208, 249, 177)","rgb(150, 211, 140)","rgb(225, 57, 108)","rgb(254, 191, 179)",],["rgb(255, 234, 254)","rgb(204, 193, 255)","rgb(158, 169, 240)","rgb(85, 60, 139)",],["rgb(106, 0, 0)","rgb(190, 55, 55)","rgb(196, 240, 197)","rgb(241, 255, 241)",],["rgb(216, 215, 195)","rgb(125, 185, 179)","rgb(22, 102, 120)","rgb(14, 46, 59)",],["rgb(0, 168, 204)","rgb(12, 123, 147)","rgb(39, 73, 109)","rgb(20, 40, 80)",],["rgb(30, 107, 127)","rgb(37, 159, 108)","rgb(250, 252, 214)",],["rgb(148, 237, 136)","rgb(59, 184, 115)","rgb(64, 102, 97)","rgb(56, 65, 55)",],["rgb(254, 151, 151)","rgb(221, 91, 130)","rgb(145, 49, 117)","rgb(86, 7, 100)",],["rgb(255, 189, 105)","rgb(255, 99, 99)","rgb(84, 56, 100)","rgb(32, 32, 64)",],["rgb(255, 200, 91)","rgb(55, 153, 86)","rgb(35, 76, 99)","rgb(238, 238, 238)",],["rgb(39, 51, 45)","rgb(234, 86, 86)","rgb(236, 247, 197)","rgb(250, 219, 63)",],["rgb(242, 242, 240)","rgb(166, 237, 142)","rgb(69, 97, 115)","rgb(27, 60, 89)",],["rgb(89, 149, 151)","rgb(37, 51, 97)","rgb(80, 74, 167)","rgb(122, 129, 235)",],["rgb(238, 240, 242)","rgb(255, 175, 135)","rgb(19, 41, 61)","rgb(13, 126, 131)",],["rgb(33, 33, 33)","rgb(102, 92, 132)","rgb(113, 160, 165)","rgb(250, 185, 91)",],["rgb(69, 49, 93)","rgb(255, 36, 0)","rgb(255, 146, 128)","rgb(242, 244, 251)",],["rgb(247, 217, 20)","rgb(237, 138, 10)","rgb(48, 21, 81)","rgb(73, 43, 123)",],["rgb(92, 113, 94)","rgb(182, 205, 189)","rgb(221, 238, 223)","rgb(242, 249, 241)",],["rgb(150, 209, 199)","rgb(245, 195, 188)","rgb(232, 157, 162)","rgb(201, 72, 91)",],["rgb(229, 251, 184)","rgb(245, 231, 157)","rgb(254, 152, 152)","rgb(185, 128, 240)",],["rgb(72, 47, 247)","rgb(45, 108, 223)","rgb(70, 195, 219)","rgb(243, 241, 105)",],["rgb(189, 198, 184)","rgb(235, 245, 238)","rgb(188, 224, 218)","rgb(146, 18, 36)",],["rgb(236, 219, 186)","rgb(200, 75, 49)","rgb(45, 66, 99)",],["rgb(102, 204, 204)","rgb(204, 0, 102)","rgb(255, 102, 102)","rgb(255, 204, 0)",],["rgb(131, 169, 92)","rgb(233, 196, 150)","rgb(148, 78, 108)","rgb(67, 61, 60)",],["rgb(155, 81, 81)","rgb(233, 120, 120)","rgb(245, 215, 130)","rgb(255, 238, 147)",],["rgb(54, 48, 98)","rgb(77, 76, 125)","rgb(130, 115, 151)","rgb(233, 213, 218)",],["rgb(99, 115, 115)","rgb(103, 155, 155)","rgb(255, 234, 219)","rgb(255, 154, 118)",],["rgb(248, 248, 248)","rgb(247, 200, 115)","rgb(166, 68, 82)","rgb(67, 67, 67)",],["rgb(220, 85, 44)","rgb(64, 73, 105)","rgb(189, 228, 244)","rgb(245, 254, 255)",],["rgb(222, 206, 156)","rgb(32, 97, 91)","rgb(162, 18, 50)",],["rgb(253, 126, 137)","rgb(255, 247, 152)","rgb(244, 227, 183)","rgb(137, 170, 151)",],["rgb(202, 0, 94)","rgb(248, 90, 22)","rgb(255, 141, 82)","rgb(244, 241, 174)",],["rgb(198, 220, 228)","rgb(218, 234, 241)","rgb(242, 209, 209)","rgb(255, 230, 230)",],["rgb(237, 244, 242)","rgb(245, 163, 26)","rgb(211, 38, 38)","rgb(121, 215, 15)",],["rgb(230, 245, 255)","rgb(131, 76, 105)","rgb(60, 79, 101)","rgb(51, 49, 59)",],["rgb(248, 120, 41)","rgb(250, 143, 77)","rgb(67, 110, 79)","rgb(94, 139, 111)",],["rgb(97, 192, 191)","rgb(187, 222, 214)","rgb(250, 227, 217)","rgb(255, 182, 185)",],["rgb(175, 197, 255)","rgb(252, 255, 130)","rgb(255, 156, 109)","rgb(253, 89, 89)",],["rgb(255, 254, 183)","rgb(255, 239, 188)","rgb(255, 218, 199)","rgb(255, 173, 173)",],["rgb(39, 39, 39)","rgb(79, 152, 202)","rgb(80, 216, 144)","rgb(239, 255, 251)",],["rgb(167, 36, 97)","rgb(220, 83, 83)","rgb(255, 147, 92)","rgb(249, 224, 144)",],["rgb(79, 50, 59)","rgb(107, 160, 131)","rgb(188, 255, 168)","rgb(246, 255, 205)",],["rgb(229, 229, 229)","rgb(222, 205, 195)","rgb(234, 84, 85)","rgb(45, 64, 89)",],["rgb(4, 137, 152)","rgb(59, 180, 193)","rgb(227, 227, 227)","rgb(246, 245, 245)",],["rgb(255, 251, 233)","rgb(227, 202, 165)","rgb(206, 171, 147)","rgb(173, 139, 115)",],["rgb(194, 75, 57)","rgb(223, 121, 67)","rgb(228, 193, 68)","rgb(105, 63, 39)",],["rgb(255, 227, 227)","rgb(255, 160, 160)","rgb(38, 42, 83)","rgb(98, 131, 149)",],["rgb(244, 187, 187)","rgb(241, 225, 166)","rgb(195, 229, 174)","rgb(151, 219, 174)",],["rgb(250, 241, 93)","rgb(10, 160, 246)","rgb(14, 124, 244)","rgb(9, 98, 234)",],["rgb(205, 213, 224)","rgb(137, 164, 199)","rgb(78, 112, 157)","rgb(245, 177, 123)",],["rgb(0, 161, 171)","rgb(0, 38, 59)","rgb(111, 0, 0)","rgb(255, 82, 0)",],["rgb(104, 134, 197)","rgb(255, 172, 183)","rgb(255, 224, 172)","rgb(249, 249, 249)",],["rgb(231, 232, 245)","rgb(112, 163, 196)","rgb(31, 108, 176)","rgb(78, 78, 106)",],["rgb(254, 223, 150)","rgb(138, 107, 240)","rgb(153, 61, 154)","rgb(68, 43, 114)",],["rgb(238, 238, 238)","rgb(246, 201, 14)","rgb(58, 71, 80)","rgb(48, 56, 65)",],["rgb(13, 98, 122)","rgb(12, 144, 125)","rgb(204, 228, 144)","rgb(242, 244, 178)",],["rgb(250, 247, 242)","rgb(43, 179, 192)","rgb(239, 108, 53)",],["rgb(220, 215, 201)","rgb(162, 123, 92)","rgb(63, 78, 79)","rgb(44, 54, 57)",],["rgb(239, 239, 239)","rgb(255, 201, 71)","rgb(24, 90, 219)",],["rgb(159, 216, 223)","rgb(255, 113, 113)","rgb(245, 192, 192)","rgb(240, 228, 215)",],["rgb(38, 37, 37)","rgb(252, 107, 63)","rgb(132, 242, 214)","rgb(255, 246, 218)",],["rgb(255, 188, 188)","rgb(183, 239, 205)","rgb(153, 216, 208)","rgb(54, 54, 54)",],["rgb(243, 139, 160)","rgb(255, 188, 188)","rgb(237, 246, 229)","rgb(181, 234, 234)",],["rgb(255, 206, 187)","rgb(222, 136, 165)","rgb(101, 89, 137)","rgb(122, 158, 175)",],["rgb(117, 93, 163)","rgb(186, 120, 205)","rgb(255, 163, 95)","rgb(231, 117, 154)",],["rgb(255, 193, 45)","rgb(101, 88, 156)","rgb(84, 77, 126)","rgb(67, 73, 110)",],["rgb(252, 227, 138)","rgb(2, 195, 154)","rgb(2, 128, 144)","rgb(0, 52, 89)",],["rgb(226, 213, 213)","rgb(187, 187, 187)","rgb(142, 127, 127)","rgb(134, 88, 88)",],["rgb(240, 251, 255)","rgb(172, 220, 238)","rgb(71, 80, 83)","rgb(46, 148, 185)",],["rgb(244, 96, 96)","rgb(240, 152, 114)","rgb(243, 209, 121)","rgb(220, 232, 186)",],["rgb(161, 215, 111)","rgb(232, 253, 150)","rgb(237, 164, 137)","rgb(209, 85, 85)",],["rgb(131, 90, 241)","rgb(127, 166, 238)","rgb(111, 231, 219)","rgb(184, 247, 212)",],["rgb(157, 190, 185)","rgb(255, 194, 180)","rgb(255, 136, 130)","rgb(25, 67, 80)",],["rgb(146, 37, 63)","rgb(228, 102, 58)","rgb(255, 227, 94)","rgb(251, 255, 124)",],["rgb(170, 170, 170)","rgb(187, 187, 187)","rgb(255, 235, 183)","rgb(112, 212, 180)",],["rgb(49, 16, 84)","rgb(142, 46, 106)","rgb(238, 119, 119)","rgb(191, 205, 126)",],["rgb(147, 239, 237)","rgb(68, 174, 194)","rgb(66, 98, 197)","rgb(54, 41, 153)",],["rgb(255, 137, 93)","rgb(213, 238, 255)","rgb(0, 124, 185)","rgb(0, 86, 137)",],["rgb(237, 184, 139)","rgb(205, 83, 52)","rgb(46, 40, 42)","rgb(23, 190, 187)",],["rgb(255, 157, 226)","rgb(140, 130, 252)","rgb(182, 147, 254)","rgb(126, 255, 219)",],["rgb(240, 214, 153)","rgb(138, 158, 82)","rgb(75, 117, 81)","rgb(48, 77, 78)",],["rgb(217, 191, 119)","rgb(216, 235, 181)","rgb(99, 154, 103)","rgb(32, 93, 103)",],["rgb(94, 34, 127)","rgb(248, 181, 0)","rgb(210, 39, 128)","rgb(242, 244, 251)",],["rgb(246, 246, 246)","rgb(242, 223, 58)","rgb(58, 180, 242)","rgb(0, 120, 170)",],["rgb(17, 47, 145)","rgb(27, 127, 189)","rgb(35, 234, 230)","rgb(246, 239, 152)",],["rgb(238, 240, 242)","rgb(255, 175, 135)","rgb(19, 41, 61)","rgb(13, 126, 131)",],["rgb(0, 48, 63)","rgb(205, 172, 129)","rgb(202, 228, 219)","rgb(245, 244, 244)",],["rgb(105, 218, 219)","rgb(21, 151, 229)","rgb(17, 60, 252)","rgb(25, 52, 152)",],["rgb(39, 46, 79)","rgb(44, 54, 93)","rgb(255, 94, 58)","rgb(242, 242, 240)",],["rgb(38, 56, 73)","rgb(65, 80, 107)","rgb(53, 188, 191)","rgb(144, 246, 215)",],["rgb(243, 239, 204)","rgb(236, 231, 180)","rgb(64, 99, 67)","rgb(50, 80, 46)",],["rgb(86, 207, 210)","rgb(46, 143, 198)","rgb(246, 206, 89)","rgb(243, 255, 146)",],["rgb(255, 81, 38)","rgb(252, 237, 218)","rgb(182, 215, 222)","rgb(218, 235, 238)",],["rgb(34, 96, 137)","rgb(69, 146, 175)","rgb(227, 196, 168)",],["rgb(252, 222, 192)","rgb(229, 178, 153)","rgb(180, 132, 108)","rgb(125, 90, 80)",],["rgb(59, 91, 93)","rgb(84, 124, 102)","rgb(172, 219, 134)","rgb(254, 255, 160)",],["rgb(21, 0, 93)","rgb(0, 85, 133)","rgb(255, 169, 106)","rgb(255, 211, 173)",],["rgb(243, 188, 119)","rgb(165, 82, 51)","rgb(64, 42, 35)",],["rgb(131, 181, 130)","rgb(214, 228, 170)","rgb(255, 255, 197)","rgb(240, 221, 146)",],["rgb(246, 117, 117)","rgb(255, 163, 77)","rgb(212, 248, 232)","rgb(30, 178, 166)",],["rgb(43, 68, 80)","rgb(73, 114, 133)","rgb(223, 235, 237)","rgb(247, 133, 54)",],["rgb(255, 227, 185)","rgb(246, 134, 134)","rgb(146, 204, 225)","rgb(123, 119, 255)",],["rgb(186, 232, 232)","rgb(227, 246, 245)","rgb(255, 255, 255)","rgb(39, 35, 67)",],["rgb(153, 254, 255)","rgb(148, 218, 255)","rgb(148, 179, 253)","rgb(185, 131, 255)",]]

// shuffle(palette);
for (let i = palettes.length - 1; i > 0; i--) {
  let j = Math.floor(Math.random() * (i + 1));
  [palettes[i], palettes[j]] = [palettes[j], palettes[i]];
}

function randint(min, max){
  return Math.floor(  min + Math.random() * (max - min))
}
if(blockquote){
  const whitespans = blockquote.querySelectorAll("span");

  let palette = palettes[ randint(0, palettes.length)];
  palette = ["red","green","black","white"];
  palette = ["red","deeppink","black","grey"];
  whitespans.forEach(span => {
    const randstepsnumber = randint(1,2);
    let randsteps = [];
    let rand = ``
    for (let i = 0; i < randstepsnumber; i++) {
      randsteps.push( randint(0,4) )
    }
    randsteps.sort((a, b) => a - b);
    let a;
    for (let step = 0; step < randsteps.length; step++) {
      const a = step == palette.length ? 0 : step;
      const color = palette[a]
      rand += `${color} ${randsteps[step]}%, ` 
    }
    
    span.style.backgroundImage = `repeating-linear-gradient(${randint(90,90)}deg, ${rand} ${palette[randint(0, palette.length)]} 100%)`
  });
}